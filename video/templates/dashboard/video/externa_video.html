<%inherit file="../base.html" />
<%!
from django.shortcuts import reverse

%>

<%def name="css()">
<style>
    h1 {
        margin: 5%;
    }
</style>
<link rel="stylesheet" href="/static/dashboard/css/externa_video.css">
</%def>
<%def name="js()">
<script src="/static/dashboard/js/externa_video.js"></script>
</%def>
<%def name='content()'>
<%
from app.consts import VideoType, FromType, NationalityType
%>
<h1>${request.user}---欢迎来到视频管理界面</h1>
<button class="btn btn-info open-btn" id="open-add-video-btn">创建</button>
<span>${error}</span>
<form id="video-deit-area" class="form-horizontal edit-area add-video-area" action="${reverse('externa_video')}" method="post">
    ${csrf_token}
    <div class="form-group">
        <div class="col-sm-10">
            <input type="text" name="name" class="form-control" id="inputEmail3" placeholder="视频名称">
        </div>
    </div>

    <div class="form-group">
        <div class="col-sm-10">
            <input type="text" name="img" class="form-control" id="inputEmail3" placeholder="海报">
        </div>
    </div>

     <div class="form-group">
        <div class="col-sm-10">
            <label>视频类型:</label>
            <select class="form-control video-type-select" name="video_type">
                %for video_type in VideoType:
                <option value="${video_type.value}">${video_type.label}</option>
                %endfor
            </select>
        </div>
    </div>

    <div class="form-group">
        <div class="col-sm-10">
            <label>视频来源:</label>
            <select class="form-control video-type-select" name="from_to">
                %for from_to in FromType:
                <option value="${from_to.value}">${from_to.label}</option>
                %endfor
            </select>
        </div>
    </div>

    <div class="form-group">
        <div class="col-sm-10">
            <label>国籍:</label>
            <select class="form-control video-type-select" style="margin-left: 27px" name="nationality">
                %for nationality in NationalityType:
                <option value="${nationality.value}">${nationality.label}</option>
                %endfor
            </select>
        </div>
    </div>

    <div class="form-group">
        <div class="col-sm-10">
            <textarea name="info"  class="form-control" placeholder="简介"></textarea>
        </div>
    </div>

    <button type="submit" class="btn btn-info">提交</button>
</form>
<h2>外链视频</h2>
<table class="table">
    <thead>
        <tr>
            <th>视频名称</th>
            <th>视频海报</th>
            <th>视频类型</th>
            <th>视频来源</th>
            <th>国籍</th>
            <th>描述</th>
            <th>状态</th>
            <th>上传时间</th>
            <th>更新时间</th>
            <th>操作</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            % for video in ex_videos:
                <tr>
                <td>${video.name}</td>
                <td><img class="video-images" src="${video.image}" ></td>
                <td>${VideoType(video.video_type).label}</td>
                <td>${FromType(video.from_to).label}</td>
                <td>${NationalityType(video.nationality).label}</td>
                <td><p class="info">${video.info}</p></td>
                <td>${video.status}</td>
                <td>${video.create_time}</td>
                <td>${video.updated_time}</td>
                <td>
                    <button class="btn btn-default"><a href="${reverse('video_update', kwargs={'video_id':video.id})}">编辑</a></button>
                    <button class="btn btn-default"><a href="${reverse('video_sub', kwargs={'video_id':video.id})}">附属信息</a></button>
                    <button class="btn btn-default"><a href="${reverse('status_update', kwargs={'video_id':video.id})}">修改状态</a></button>
                </td>
                </tr>
            % endfor
        </tr>
    </tbody>
</table>

<h2 style="margin-top: 30px">自定义视频</h2>
<table class="table">
    <thead>
        <tr>
            <th>视频名称</th>
            <th>视频海报</th>
            <th>视频类型</th>
            <th>视频来源</th>
            <th>国籍</th>
            <th>描述</th>
            <th>状态</th>
            <th>上传时间</th>
            <th>更新时间</th>
            <th>操作</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            % for video in cus_videos:
                <tr>
                <td>${video.name}</td>
                <td><img class="video-images" src="${video.image}" ></td>
                <td>${VideoType(video.video_type).label}</td>
                <td>${FromType(video.from_to).label}</td>
                <td>${NationalityType(video.nationality).label}</td>
                <td><p class="info">${video.info}</p></td>
                <td>${video.status}</td>
                <td>${video.create_time}</td>
                <td>${video.updated_time}</td>
                <td>
                    <button class="btn btn-default"><a href="${reverse('video_update', kwargs={'video_id':video.id})}">编辑</a></button>
                    <button class="btn btn-default"><a href="${reverse('video_sub', kwargs={'video_id':video.id})}">附属信息</a></button>
                    <button class="btn btn-default"><a href="${reverse('status_update', kwargs={'video_id':video.id})}">修改状态</a></button>
                </td>
                </tr>
            % endfor
        </tr>
    </tbody>
</table>
</%def>